<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Calculate sample and exceedance counts (conventional &amp; toxic...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for countExceedances {irTools}"><tr><td>countExceedances {irTools}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Calculate sample and exceedance counts (conventional &amp; toxic assessments)</h2>

<h3>Description</h3>

<p>Compares water quality result values to standards to calculates sample and exceedance counts. This is geared towards conventional and toxic assessments.
</p>


<h3>Usage</h3>

<pre>
countExceedances(data, group_vars = c("IR_MLID", "IR_MLNAME",
  "R317Descrp", "IR_Lat", "IR_Long", "ASSESS_ID", "AU_NAME",
  "BeneficialUse", "BEN_CLASS", "R3172ParameterName", "CriterionLabel",
  "SSC_MLID", "SSC_StartMon", "SSC_EndMon", "AsmntAggFun"),
  agg_exc = FALSE, agg_exc_as_n = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>A prepped water quality portal data object (i.e. output from dataPrep() ). Must include IR_Value and ActivityStartDate.</p>
</td></tr>
<tr valign="top"><td><code>group_vars</code></td>
<td>
<p>Vector of column names on which to group data when calculating sample counts and exceedances. This should not include any factors that prevent aggregation to site-scale assessments (e.g. date, time, etc.), but should include any columns that indicate a unique standard (e.g. season, acute v. chronic, etc.). See default for recommended.</p>
</td></tr>
<tr valign="top"><td><code>agg_exc</code></td>
<td>
<p>Logical. If FALSE (default), individual samples are compared to the criterion as with non-aggregated criteria to count exceedances. If TRUE (default) aggregate samples by AsmntAggFun prior to counting exceedances.</p>
</td></tr>
<tr valign="top"><td><code>agg_exc_as_n</code></td>
<td>
<p>Logical. If FALSE exceedance/support of aggregate water quality criteria (e.g. seasonal means) is indicated as 1 or 0 in ExcCount column. Only used if agg_exc==TRUE. If TRUE (default), set the ExcCount value of aggregate water quality criteria to equal the associated sample count. In this case, ExcCount==SampleCount indicates an exceedance and ExcCount==0 indicates no exceedance. This allows sample and exceedance counts for these types of criteria to pass through assessExc using the same input arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns sample and exceedance counts aggregated by grouping variables.
</p>

<hr /><div style="text-align: center;">[Package <em>irTools</em> version 0.0.0.9000 <a href="00Index.html">Index</a>]</div>
</body></html>